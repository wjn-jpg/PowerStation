<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ntdq.power_station.build.service.mapper.ModelYCMapper">

    <resultMap id="model" type="com.ntdq.power_station.build.service.domain.entity.ModelYCAndYX">
        <id property="modelId" column="model_id"/>
        <result property="commonModelId" column="common_model_id"/>
        <result property="devMainType" column="dev_main_type"/>
        <result property="devSubType" column="dev_sub_type"/>
        <result property="mpName" column="mp_name"/>
        <result property="mpCode" column="mp_code"/>
        <result property="mpNo" column="mp_no"/>
    </resultMap>

    <insert id="saveBatchModelYC" parameterType="java.util.List">
        insert into t_common_model_yc (common_model_id,dev_main_type,dev_sub_type,mp_name,mp_code
        ,mp_no) values
        <foreach collection="modelYCAndYXES" item="model" index="index" separator=",">
            (#{model.commonModelId},#{model.devMainType},#{model.devSubType},
            #{model.mpName},#{model.mpCode},#{model.mpNo})
        </foreach>
    </insert>

    <insert id="saveBatchModelYX" parameterType="java.util.List">
        insert into t_common_model_yx (common_model_id,dev_main_type,dev_sub_type,mp_name,mp_code
        ,mp_no) values
        <foreach collection="modelYCAndYXES" item="model" index="index" separator=",">
            (#{model.commonModelId},#{model.devMainType},#{model.devSubType},
            #{model.mpName},#{model.mpCode},#{model.mpNo})
        </foreach>
    </insert>

    <select id="findModelListByYXType" resultMap="model">
        select * from t_common_model_yx where dev_main_type = #{mainType} and dev_sub_type = #{subType};
    </select>


    <select id="findModelListByYCType" resultMap="model">
        select * from t_common_model_yc where dev_main_type = #{mainType} and dev_sub_type = #{subType};
    </select>

</mapper>